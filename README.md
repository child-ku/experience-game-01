# 可视化工作流设计器

一个基于 Vue 3 和 AntV X6 的 web 版可视化工作流设计器。

## 功能特性

### 流程图绘制功能
- ✅ 拖拽式节点放置和连接
- ✅ 丰富的节点类型库
  - 开始/结束节点
  - 任务节点（任务、审批、拒绝）
  - 决策节点（决策、条件）
  - 并行节点（并行、分叉、合并）
- ✅ 连接线样式和箭头自定义
- ✅ 对齐和分布辅助工具（吸附线）
- ✅ 网格和标尺显示

### 高级绘图功能
- ✅ 多层画布和分组管理
- ✅ 子流程嵌套和展开
- ✅ 泳道图支持（跨部门流程）

### 其他功能
- ✅ 工作流保存和导出
- ✅ 节点属性编辑
- ✅ 画布缩放和平移
- ✅ 撤销和重做

## 技术栈

- **前端框架**: Vue 3
- **可视化库**: AntV X6
- **UI 组件库**: Ant Design Vue
- **构建工具**: Vite

## 安装和运行

### 1. 安装依赖

```bash
npm install
```

### 2. 启动开发服务器

```bash
npm run dev
```

服务器将在 `http://localhost:3000` 启动。

### 3. 构建生产版本

```bash
npm run build
```

### 4. 预览生产版本

```bash
npm run preview
```

## 使用指南

### 1. 添加节点

从左侧节点库中拖拽节点到画布上。

### 2. 连接节点

点击节点边缘的连接点，拖动到另一个节点的连接点。

### 3. 编辑节点属性

点击选中节点，右侧属性面板将显示节点的属性，可以编辑节点标签、颜色、大小等。

### 4. 画布操作

- **缩放**: 按住 Ctrl 键，滚动鼠标滚轮。
- **平移**: 按住 Shift 键，拖动画布。
- **选择**: 拖动鼠标选择多个节点。

### 5. 保存和导出

- **保存**: 点击顶部工具栏的「保存」按钮，工作流将保存到浏览器本地存储。
- **导出**: 点击顶部工具栏的「导出」按钮，工作流将导出为 JSON 文件。

### 6. 清空画布

点击顶部工具栏的「清空」按钮，将清空画布上的所有节点和连接线。

## 项目结构

```
workflow-designer/
├─ src/
│  ├─ components/
│  │  ├─ NodeLibrary.vue      # 节点库组件
│  │  ├─ WorkflowCanvas.vue   # 画布组件
│  │  └─ PropertyPanel.vue     # 属性面板组件
│  ├─ App.vue                   # 主应用组件
│  └─ main.js                   # 应用入口
├─ index.html                    # HTML 模板
├─ vite.config.js               # Vite 配置
├─ package.json                  # 项目配置
└─ README.md                     # 项目说明
```

## 许可证

MIT
